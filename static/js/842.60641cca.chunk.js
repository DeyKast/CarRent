"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[842],{842:function(e,a,s){s.r(a),s.d(a,{default:function(){return ie}});var n=s(433),r=s(439),c=s(791),t="searchForm_formContainer__EEv+j",l="searchForm_formWrapper__GNnur",i="searchForm_formLabel__HnaOd",o="searchForm_fromMilageWrapper__54hbk",d="searchForm_fromSelector__I9Jgk",m="searchForm_milageInputLeft__5d01v",p="searchForm_milageInputRight__mVTgl",h="searchForm_btn__ZOFJW",u=s(184),_=function(){return(0,u.jsx)("div",{className:t,children:(0,u.jsxs)("form",{className:l,children:[(0,u.jsxs)("label",{className:i,children:["Car brand",(0,u.jsxs)("select",{name:"brand",className:d,children:[(0,u.jsx)("option",{value:"",children:"Choose brand"}),(0,u.jsx)("option",{value:"Buick",children:"Buick"})]})]}),(0,u.jsxs)("label",{className:i,children:["Price/ 1 hour",(0,u.jsxs)("select",{name:"brand",className:d,children:[(0,u.jsx)("option",{value:"",children:"To $"}),(0,u.jsx)("option",{value:"30",children:"30"})]})]}),(0,u.jsxs)("label",{className:i,children:["\u0421ar mileage / km",(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("input",{type:"number",placeholder:"From",name:"milage-from",id:"milage-from",className:m}),(0,u.jsx)("input",{type:"number",placeholder:"To",name:"milage-to",id:"milage-to",className:p})]})]}),(0,u.jsx)("button",{type:"submit",onClick:function(e){console.log(e.value)},className:h,children:"Search"})]})})},x=s(861),j=s(757),f=s.n(j),N=s(243),v=function(){var e=(0,x.Z)(f().mark((function e(a){var s,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts?id=".concat(a),e.prev=1,e.next=4,N.Z.get(s,{headers:{"content-type":"application/json"}});case 4:if(200!==(n=e.sent).status){e.next=10;break}return console.log(n.data),e.abrupt("return",n.data[0]);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}}(),g=s(922),b="carsList_carsListContainer__O3n8g",w="carsList_carsList__lOR9X",W="carsList_carsListItem__-fQ59",k="carsList_imgWrapper__ogdyq",C="carsList_carsListItemImg__8J4O6",L="carsList_carsListItemBtn__mFXj-",y="carsList_carTitleWrapper__4am8s",Z="carsList_carTextWrapper__Bw-xW",B="carsList_carText__ChkpJ",S="carsList_carSubtext__DWxgq",T="carsList_iconHeart__v6pvX",F="carsList_carModel__VnbJX",M=s(164),R="modalWindow_backdrop__3zx0B",E="modalWindow_modalWindow__vftgW",I="modalWindow_modalImgWrapper__DsH9h",J="modalWindow_modalImg__7p7VZ",P="modalWindow_modalTitle__JfaZv",D="modalWindow_modalTitleAccent__4WNpv",O="modalWindow_carText__9FZbJ",z="modalWindow_carSubtext__eCB3w",A="modalWindow_carDescription__RJmz+",H="modalWindow_carAccessories__Jaw83",X="modalWindow_secondCarText__gMyct",V="modalWindow_carRentalConditionsWrapper__7Yhf4",Y="modalWindow_carRentalConditions__BwQ4D",q="modalWindow_carRentalConditionsList__PZlAY",G="modalWindow_carRentalConditionsListItem__HAGW-",Q="modalWindow_carRentBtn__hWFj9",U="modalWindow_closeModalBtn__78HgU",$="modalWindow_accent__zhnl1";var K=s.p+"static/media/close-icon.f3cbdd58dc25ca7cbb3d242106b56fb9.svg",ee=function(e){var a=e.data,s=e.handleModalToggle,n=a.id,r=a.make,t=a.model,l=a.year,i=a.type,o=a.rentalPrice,d=a.mileage,m=a.address,p=a.img,h=a.accessories,_=a.fuelConsumption,x=a.engineSize,j=a.description,f=a.functionalities,N=a.rentalConditions,v=p||"https://openclipart.org/image/400px/321286",g=m.split(","),b=N.split("\n").filter((function(e){return""!==e.trim()})),w=b[0].slice(0,-2),W=b[0].slice(-2);(0,c.useEffect)((function(){var e=function(e){"Escape"!==e.code||s()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[s]);return(0,u.jsx)(u.Fragment,{children:M.createPortal((0,u.jsx)("div",{className:R,onClick:function(e){e.target===e.currentTarget&&s()},children:(0,u.jsxs)("div",{className:E,children:[(0,u.jsx)("div",{className:I,children:(0,u.jsx)("img",{src:v,alt:t,className:J})}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:P,children:[r," ",(0,u.jsx)("span",{className:D,children:t}),","," ",l]}),(0,u.jsxs)("p",{className:O,children:[(0,u.jsx)("span",{className:z,children:g[1]}),(0,u.jsx)("span",{className:z,children:g[2]}),(0,u.jsxs)("span",{className:z,children:["id: ",n]}),(0,u.jsxs)("span",{className:z,children:["Year: ",l]}),(0,u.jsxs)("span",{className:z,children:["Type: ",i]}),(0,u.jsxs)("span",{className:z,children:["fuelConsumption: ",_]}),(0,u.jsxs)("span",{className:z,children:["engineSize: ",x]})]}),(0,u.jsx)("p",{className:A,children:j}),(0,u.jsx)("p",{className:H,children:"Accessories and functionalities:"}),(0,u.jsxs)("p",{className:X,children:[(0,u.jsx)("span",{className:z,children:h[0]}),(0,u.jsx)("span",{className:z,children:h[1]}),(0,u.jsx)("span",{className:z,children:h[2]}),(0,u.jsx)("span",{className:z,children:f[0]}),(0,u.jsx)("span",{className:z,children:f[1]}),(0,u.jsx)("span",{className:z,children:f[2]})]})]}),(0,u.jsxs)("div",{className:V,children:[(0,u.jsx)("p",{className:Y,children:"Rental Conditions: "}),(0,u.jsxs)("ul",{className:q,children:[(0,u.jsx)("li",{className:G,children:(0,u.jsxs)("p",{children:[w," ",(0,u.jsx)("span",{className:$,children:W})]})}),(0,u.jsx)("li",{className:G,children:(0,u.jsx)("p",{children:b[1]})}),(0,u.jsx)("li",{className:G,children:(0,u.jsx)("p",{children:b[2]})}),(0,u.jsx)("li",{className:G,children:(0,u.jsxs)("p",{children:["Mileage:"," ",(0,u.jsx)("span",{className:$,children:function(e){var a=e.toString();return a.slice(0,-3)+","+a.slice(-3)}(d)})]})}),(0,u.jsx)("li",{className:G,children:(0,u.jsxs)("p",{children:["Price: ",(0,u.jsx)("span",{className:$,children:o})]})})]})]}),(0,u.jsx)("a",{href:"tel:+380730000000",className:Q,children:"Rental car"}),(0,u.jsx)("button",{onClick:s,className:U,children:(0,u.jsx)("img",{src:K,alt:"close-icon"})})]})}),document.body)})};var ae=s.p+"static/media/heart-icon.6b1933c5a9cf008bf066dea83693ec0e.svg",se=function(e){var a=e.data,s=(0,c.useState)(!1),n=(0,r.Z)(s,2),t=n[0],l=n[1],i=(0,c.useState)(null),o=(0,r.Z)(i,2),d=o[0],m=o[1],p=(0,c.useState)(!1),h=(0,r.Z)(p,2),_=h[0],j=h[1];if(!a||0===a.length)return null;var N=function(){var e=(0,x.Z)(f().mark((function e(a){var s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),t){e.next=15;break}return e.prev=2,e.next=5,v(a);case 5:(s=e.sent)?m(s):console.error("ERROR ! resp => ",s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error:",e.t0);case 12:return e.prev=12,j(!1),e.finish(12);case 15:l(!t),j(!1);case 17:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(a){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:b,children:[(0,u.jsx)("ul",{className:w,children:a.map((function(e){var a=e.id,s=e.make,n=e.model,r=e.year,c=e.type,t=e.rentalPrice,l=e.rentalCompany,i=e.address,o=e.img,d=e.accessories,m=o||"https://openclipart.org/image/400px/321286",p=i.split(",");return(0,u.jsxs)("li",{className:W,children:[(0,u.jsx)("div",{className:k,children:(0,u.jsx)("img",{src:m,alt:n,className:C})}),(0,u.jsxs)("div",{className:y,children:[(0,u.jsxs)("p",{children:[s," ",(0,u.jsxs)("span",{className:F,children:[n,","]}),r]}),(0,u.jsx)("p",{children:t})]}),(0,u.jsx)("div",{className:Z,children:(0,u.jsxs)("p",{className:B,children:[(0,u.jsx)("span",{className:S,children:p[1]}),(0,u.jsx)("span",{className:S,children:p[2]}),(0,u.jsx)("span",{className:S,children:l}),(0,u.jsx)("span",{className:S,children:a}),(0,u.jsx)("span",{className:S,children:c}),(0,u.jsx)("span",{className:S,children:d[0]})]})}),(0,u.jsx)("button",{className:L,onClick:function(){return N(a)},children:"Learn more"}),(0,u.jsx)("img",{src:ae,alt:"heart",className:T})]},a)}))}),t&&(0,u.jsx)(ee,{data:d,handleModalToggle:N}),_&&(0,u.jsx)(g.Z,{})]})},ne=[],re=function(){var e=(0,x.Z)(f().mark((function e(a,s){var n,r,c,t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts",e.prev=1,e.next=4,N.Z.get("https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts",{headers:{"Content-Type":"application/json"}});case 4:if(200!==(n=e.sent).status){e.next=15;break}return ne=n.data,c=(r=8*(a-1))+8,t=ne.slice(r,c),console.log(t),a>=Math.ceil(ne.length/8)&&(console.log("Sorry, there are no more cars."),s(!1)),e.abrupt("return",{carsData:t});case 15:throw new Error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u043f\u0438\u0442\u0443");case 16:e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(1),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430:",e.t0),e.t0;case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(a,s){return e.apply(this,arguments)}}(),ce="loadMoreButton_loadMoreBtn__PfUCd",te=function(e){var a=e.handleButton;return(0,u.jsx)("button",{className:ce,type:"button",onClick:a,children:"Load more"})},le={loadMoreBtnWrapper:"Catalog_loadMoreBtnWrapper__T7p6J"},ie=function(){var e=(0,c.useState)(1),a=(0,r.Z)(e,2),s=a[0],t=a[1],l=(0,c.useState)(!0),i=(0,r.Z)(l,2),o=i[0],d=i[1],m=(0,c.useState)(!1),p=(0,r.Z)(m,2),h=p[0],x=p[1],j=(0,c.useState)([]),f=(0,r.Z)(j,2),N=f[0],v=f[1],b=(0,c.useState)(!0),w=(0,r.Z)(b,2),W=w[0],k=w[1];return(0,c.useEffect)((function(){W?k(!1):(x(!0),console.log(s),re(s,d).then((function(e){var a=e.carsData;v((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(a))}))})).catch((function(e){console.error("Error:",e)})).finally((function(){x(!1)})))}),[s,W]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)(_,{})}),(0,u.jsxs)("div",{children:[(0,u.jsx)(se,{data:N}),o&&(0,u.jsx)("div",{className:le.loadMoreBtnWrapper,children:(0,u.jsx)(te,{CarsList:le.loadMoreBtn,handleButton:function(){t((function(e){return e+1}))}})})]}),h&&(0,u.jsx)(g.Z,{})]})}}}]);
//# sourceMappingURL=842.60641cca.chunk.js.map