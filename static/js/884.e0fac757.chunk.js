"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[884],{884:function(e,s,a){a.d(s,{Z:function(){return q}});var n=a(861),r=a(439),c=a(757),t=a.n(c),i=a(791),l=a(43),o=a(629),d=a(922),m="carsList_carsListContainer__O3n8g",p="carsList_carsList__lOR9X",u="carsList_carsListItem__-fQ59",h="carsList_imgWrapper__ogdyq",_="carsList_carsListItemImg__8J4O6",x="carsList_carsListItemBtn__mFXj-",f="carsList_carTitleWrapper__4am8s",j="carsList_carTextWrapper__Bw-xW",N="carsList_carText__ChkpJ",v="carsList_carSubtext__DWxgq",g="carsList_iconHeart__v6pvX",w="carsList_carModel__VnbJX",W=a(164),k="modalWindow_backdrop__3zx0B",b="modalWindow_modalWindow__vftgW",L="modalWindow_modalImgWrapper__DsH9h",C="modalWindow_modalImg__7p7VZ",S="modalWindow_modalTitle__JfaZv",y="modalWindow_modalTitleAccent__4WNpv",R="modalWindow_carText__9FZbJ",I="modalWindow_carSubtext__eCB3w",Z="modalWindow_carDescription__RJmz+",J="modalWindow_carAccessories__Jaw83",T="modalWindow_secondCarText__gMyct",E="modalWindow_carRentalConditionsWrapper__7Yhf4",O="modalWindow_carRentalConditions__BwQ4D",B="modalWindow_carRentalConditionsList__PZlAY",P="modalWindow_carRentalConditionsListItem__HAGW-",M="modalWindow_carRentBtn__hWFj9",z="modalWindow_closeModalBtn__78HgU",A="modalWindow_accent__zhnl1";var D=a.p+"static/media/close-icon.f3cbdd58dc25ca7cbb3d242106b56fb9.svg",F=a(184),H=function(e){var s=e.data,a=e.handleModalToggle,n=s.id,r=s.make,c=s.model,t=s.year,l=s.type,o=s.rentalPrice,d=s.mileage,m=s.address,p=s.img,u=s.accessories,h=s.fuelConsumption,_=s.engineSize,x=s.description,f=s.functionalities,j=s.rentalConditions,N=p||"https://openclipart.org/image/800px/321286",v=m.split(","),g=j.split("\n").filter((function(e){return""!==e.trim()})),w=g[0].slice(0,-2),H=g[0].slice(-2);(0,i.useEffect)((function(){var e=function(e){"Escape"!==e.code||a()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]);return(0,F.jsx)(F.Fragment,{children:W.createPortal((0,F.jsx)("div",{className:k,onClick:function(e){e.target===e.currentTarget&&a()},children:(0,F.jsxs)("div",{className:b,children:[(0,F.jsx)("div",{className:L,children:(0,F.jsx)("img",{src:N,alt:c,className:C})}),(0,F.jsxs)("div",{children:[(0,F.jsxs)("p",{className:S,children:[r," ",(0,F.jsx)("span",{className:y,children:c}),","," ",t]}),(0,F.jsxs)("p",{className:R,children:[(0,F.jsx)("span",{className:I,children:v[1]}),(0,F.jsx)("span",{className:I,children:v[2]}),(0,F.jsxs)("span",{className:I,children:["id: ",n]}),(0,F.jsxs)("span",{className:I,children:["Year: ",t]}),(0,F.jsxs)("span",{className:I,children:["Type: ",l]}),(0,F.jsxs)("span",{className:I,children:["fuelConsumption: ",h]}),(0,F.jsxs)("span",{className:I,children:["engineSize: ",_]})]}),(0,F.jsx)("p",{className:Z,children:x}),(0,F.jsx)("p",{className:J,children:"Accessories and functionalities:"}),(0,F.jsxs)("p",{className:T,children:[(0,F.jsx)("span",{className:I,children:u[0]}),(0,F.jsx)("span",{className:I,children:u[1]}),(0,F.jsx)("span",{className:I,children:u[2]}),(0,F.jsx)("span",{className:I,children:f[0]}),(0,F.jsx)("span",{className:I,children:f[1]}),(0,F.jsx)("span",{className:I,children:f[2]})]})]}),(0,F.jsxs)("div",{className:E,children:[(0,F.jsx)("p",{className:O,children:"Rental Conditions: "}),(0,F.jsxs)("ul",{className:B,children:[(0,F.jsx)("li",{className:P,children:(0,F.jsxs)("p",{children:[w," ",(0,F.jsx)("span",{className:A,children:H})]})}),(0,F.jsx)("li",{className:P,children:(0,F.jsx)("p",{children:g[1]})}),(0,F.jsx)("li",{className:P,children:(0,F.jsx)("p",{children:g[2]})}),(0,F.jsx)("li",{className:P,children:(0,F.jsxs)("p",{children:["Mileage:"," ",(0,F.jsx)("span",{className:A,children:function(e){var s=e.toString();return s.slice(0,-3)+","+s.slice(-3)}(d)})]})}),(0,F.jsx)("li",{className:P,children:(0,F.jsxs)("p",{children:["Price: ",(0,F.jsx)("span",{className:A,children:o})]})})]})]}),(0,F.jsx)("a",{href:"tel:+380730000000",className:M,children:"Rental car"}),(0,F.jsx)("button",{onClick:a,className:z,children:(0,F.jsx)("img",{src:D,alt:"close-icon"})})]})}),document.body)})};var X=a.p+"static/media/heart-icon.6b1933c5a9cf008bf066dea83693ec0e.svg";var Y=a.p+"static/media/liked-icon.97847e9195943f61800c97807e735d4f.svg",q=function(e){var s=e.data,a=(0,i.useState)(!1),c=(0,r.Z)(a,2),W=c[0],k=c[1],b=(0,i.useState)(null),L=(0,r.Z)(b,2),C=L[0],S=L[1],y=(0,i.useState)(!1),R=(0,r.Z)(y,2),I=R[0],Z=R[1],J=(0,i.useState)([]),T=(0,r.Z)(J,2),E=T[0],O=T[1];if((0,i.useEffect)((function(){var e=(0,o.R)();O(e)}),[]),!s||0===s.length)return null;var B=function(){var e=(0,n.Z)(t().mark((function e(s){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),W){e.next=15;break}return e.prev=2,e.next=5,(0,l.S)(s);case 5:(a=e.sent)?S(a):console.error("ERROR ! resp => ",a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error:",e.t0);case 12:return e.prev=12,Z(!1),e.finish(12);case 15:k(!W),Z(!1);case 17:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(s){return e.apply(this,arguments)}}(),P=function(e){!function(e){var s=JSON.parse(localStorage.getItem("componentId"))||[];if(s.includes(e)){var a=s.filter((function(s){return s!==e}));localStorage.setItem("componentId",JSON.stringify(a))}else s.push(e),localStorage.setItem("componentId",JSON.stringify(s))}(e);var s=(0,o.R)();O(s),console.log(s)};return(0,F.jsxs)("div",{className:m,children:[(0,F.jsx)("ul",{className:p,children:s.map((function(e){var s=e.id,a=e.make,n=e.model,r=e.year,c=e.type,t=e.rentalPrice,i=e.rentalCompany,l=e.address,o=e.img,d=e.accessories,m=o||"https://openclipart.org/image/800px/321286",p=l.split(","),W=E.includes(s);return(0,F.jsxs)("li",{className:u,children:[(0,F.jsx)("div",{className:h,children:(0,F.jsx)("img",{src:m,alt:n,className:_})}),(0,F.jsxs)("div",{className:f,children:[(0,F.jsxs)("p",{children:[a," ",(0,F.jsxs)("span",{className:w,children:[n,","]}),r]}),(0,F.jsx)("p",{children:t})]}),(0,F.jsx)("div",{className:j,children:(0,F.jsxs)("p",{className:N,children:[(0,F.jsx)("span",{className:v,children:p[1]}),(0,F.jsx)("span",{className:v,children:p[2]}),(0,F.jsx)("span",{className:v,children:i}),(0,F.jsx)("span",{className:v,children:s}),(0,F.jsx)("span",{className:v,children:c}),(0,F.jsx)("span",{className:v,children:d[0]})]})}),(0,F.jsx)("button",{className:x,onClick:function(){return B(s)},children:"Learn more"}),(0,F.jsx)("img",{src:W?Y:X,alt:"heart",className:g,onClick:function(){return P(s)}})]},s)}))}),W&&(0,F.jsx)(H,{data:C,handleModalToggle:B}),I&&(0,F.jsx)(d.Z,{})]})}},43:function(e,s,a){a.d(s,{P:function(){return o},S:function(){return l}});var n=a(861),r=a(757),c=a.n(r),t=a(243),i=a(629),l=function(){var e=(0,n.Z)(c().mark((function e(s){var a,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts?id=".concat(s),e.prev=1,e.next=4,t.Z.get(a,{headers:{"content-type":"application/json"}});case 4:if(200!==(n=e.sent).status){e.next=9;break}return e.abrupt("return",n.data[0]);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),console.error("Error:",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(s){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(c().mark((function e(){var s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,i.R)(),e.prev=1,e.next=4,Promise.all(s.map(function(){var e=(0,n.Z)(c().mark((function e(s){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}()));case 4:return a=e.sent,console.log(a),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching liked cars:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},629:function(e,s,a){a.d(s,{R:function(){return n}});var n=function(){return JSON.parse(localStorage.getItem("componentId"))||[]}}}]);
//# sourceMappingURL=884.e0fac757.chunk.js.map