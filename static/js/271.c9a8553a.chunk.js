"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[271],{271:function(e,a,r){r.r(a),r.d(a,{default:function(){return P}});var s=r(433),t=r(439),n=r(791),c="searchForm_formContainer__EEv+j",i="searchForm_formWrapper__GNnur",l="searchForm_formLabel__HnaOd",o="searchForm_fromMilageWrapper__54hbk",m="searchForm_fromSelector__I9Jgk",u="searchForm_milageInputLeft__5d01v",p="searchForm_milageInputRight__mVTgl",d="searchForm_btn__ZOFJW",h=r(184),_=function(){return(0,h.jsx)("div",{className:c,children:(0,h.jsxs)("form",{className:i,children:[(0,h.jsxs)("label",{className:l,children:["Car brand",(0,h.jsxs)("select",{name:"brand",className:m,children:[(0,h.jsx)("option",{value:"",children:"Choose brand"}),(0,h.jsx)("option",{value:"Buick",children:"Buick"})]})]}),(0,h.jsxs)("label",{className:l,children:["Price/ 1 hour",(0,h.jsxs)("select",{name:"brand",className:m,children:[(0,h.jsx)("option",{value:"",children:"To $"}),(0,h.jsx)("option",{value:"30",children:"30"})]})]}),(0,h.jsxs)("label",{className:l,children:["\u0421ar mileage / km",(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("input",{type:"number",placeholder:"From",name:"milage-from",id:"milage-from",className:u}),(0,h.jsx)("input",{type:"number",placeholder:"To",name:"milage-to",id:"milage-to",className:p})]})]}),(0,h.jsx)("button",{type:"submit",onClick:function(e){console.log(e.value)},className:d,children:"Search"})]})})},x=r(861),f=r(757),j=r.n(f),v=r(243),g=function(){var e=(0,x.Z)(j().mark((function e(a){var r,s;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts?id=".concat(a),e.prev=1,e.next=4,v.Z.get(r,{headers:{"content-type":"application/json"}});case 4:200===(s=e.sent).status&&console.log(s.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),N="carsList_carsListContainer__O3n8g",b="carsList_carsList__lOR9X",k="carsList_carsListItem__-fQ59",L="carsList_imgWrapper__ogdyq",C="carsList_carsListItemImg__8J4O6",y="carsList_carsListItemBtn__mFXj-",Z="carsList_carTitleWrapper__4am8s",w="carsList_carTextWrapper__Bw-xW",B="carsList_carText__ChkpJ",F="carsList_carSubtext__DWxgq",W="carsList_iconHeart__v6pvX",M="carsList_carModel__VnbJX";var S=r.p+"static/media/heart-icon.6b1933c5a9cf008bf066dea83693ec0e.svg",T=function(e){var a=e.data;if(!a||0===a.length)return null;return(0,h.jsx)("div",{className:N,children:(0,h.jsx)("ul",{className:b,children:a.map((function(e){var a=e.id,r=e.make,s=e.model,t=e.year,n=e.type,c=e.rentalPrice,i=e.rentalCompany,l=e.address,o=e.img,m=e.accessories,u=o||"https://openclipart.org/image/400px/321286",p=l.split(",");return(0,h.jsxs)("li",{className:k,children:[(0,h.jsx)("div",{className:L,children:(0,h.jsx)("img",{src:u,alt:s,className:C})}),(0,h.jsxs)("div",{className:Z,children:[(0,h.jsxs)("p",{children:[r," ",(0,h.jsxs)("span",{className:M,children:[s,","]}),t]}),(0,h.jsx)("p",{children:c})]}),(0,h.jsx)("div",{className:w,children:(0,h.jsxs)("p",{className:B,children:[(0,h.jsx)("span",{className:F,children:p[1]}),(0,h.jsx)("span",{className:F,children:p[2]}),(0,h.jsx)("span",{className:F,children:i}),(0,h.jsx)("span",{className:F,children:a}),(0,h.jsx)("span",{className:F,children:n}),(0,h.jsx)("span",{className:F,children:m[0]})]})}),(0,h.jsx)("button",{className:y,onClick:function(){return function(e){g(e)}(a)},children:"Learn more"}),(0,h.jsx)("img",{src:S,alt:"heart",className:W})]},a)}))})})},I=[],E=function(){var e=(0,x.Z)(j().mark((function e(a,r){var s,t,n,c;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts",e.prev=1,e.next=4,v.Z.get("https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts",{headers:{"Content-Type":"application/json"}});case 4:if(200!==(s=e.sent).status){e.next=15;break}return I=s.data,n=(t=8*(a-1))+8,c=I.slice(t,n),console.log(c),a>=Math.ceil(I.length/8)&&(console.log("Sorry, there are no more cars."),r(!1)),e.abrupt("return",{carsData:c});case 15:throw new Error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u043f\u0438\u0442\u0443");case 16:e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(1),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430:",e.t0),e.t0;case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(a,r){return e.apply(this,arguments)}}(),J=r(922),O="loadMoreButton_loadMoreBtn__PfUCd",X=function(e){var a=e.handleButton;return(0,h.jsx)("button",{className:O,type:"button",onClick:a,children:"Load more"})},D={loadMoreBtnWrapper:"Catalog_loadMoreBtnWrapper__T7p6J"},P=function(){var e=(0,n.useState)(1),a=(0,t.Z)(e,2),r=a[0],c=a[1],i=(0,n.useState)(!0),l=(0,t.Z)(i,2),o=l[0],m=l[1],u=(0,n.useState)(!1),p=(0,t.Z)(u,2),d=p[0],x=p[1],f=(0,n.useState)([]),j=(0,t.Z)(f,2),v=j[0],g=j[1],N=(0,n.useState)(!0),b=(0,t.Z)(N,2),k=b[0],L=b[1];return(0,n.useEffect)((function(){k?L(!1):(x(!0),console.log(r),E(r,m).then((function(e){var a=e.carsData;g((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(a))}))})).catch((function(e){console.error("Error:",e)})).finally((function(){x(!1)})))}),[r,k]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:(0,h.jsx)(_,{})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(T,{data:v}),o&&(0,h.jsx)("div",{className:D.loadMoreBtnWrapper,children:(0,h.jsx)(X,{CarsList:D.loadMoreBtn,handleButton:function(){c((function(e){return e+1}))}})})]}),d&&(0,h.jsx)(J.Z,{})]})}}}]);
//# sourceMappingURL=271.c9a8553a.chunk.js.map