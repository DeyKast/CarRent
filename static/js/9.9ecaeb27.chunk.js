"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[9],{386:function(e,s,a){a.d(s,{Z:function(){return Q}});var n=a(861),r=a(439),c=a(757),t=a.n(c),i=a(791),l=a(43),o=a(629),d=a(922),m="carsList_carsListContainer__O3n8g",p="carsList_carsList__lOR9X",u="carsList_carsListItem__-fQ59",_="carsList_imgWrapper__ogdyq",h="carsList_carsListItemImg__8J4O6",x="carsList_carsListItemBtn__mFXj-",f="carsList_carTitleWrapper__4am8s",j="carsList_carTextWrapper__Bw-xW",N="carsList_carText__ChkpJ",v="carsList_carSubtext__DWxgq",g="carsList_iconHeart__v6pvX",w="carsList_carModel__VnbJX",W=a(164),k="modalWindow_backdrop__3zx0B",b="modalWindow_modalWindow__vftgW",L="modalWindow_modalImgWrapper__DsH9h",C="modalWindow_modalImg__7p7VZ",S="modalWindow_modalTitle__JfaZv",y="modalWindow_modalTitleAccent__4WNpv",R="modalWindow_carText__9FZbJ",I="modalWindow_carSubtext__eCB3w",Z="modalWindow_carDescription__RJmz+",J="modalWindow_carAccessories__Jaw83",T="modalWindow_secondCarText__gMyct",E="modalWindow_carRentalConditionsWrapper__7Yhf4",O="modalWindow_carRentalConditions__BwQ4D",B="modalWindow_carRentalConditionsList__PZlAY",P="modalWindow_carRentalConditionsListItem__HAGW-",M="modalWindow_carRentBtn__hWFj9",z="modalWindow_closeModalBtn__78HgU",A="modalWindow_accent__zhnl1";var D=a.p+"static/media/close-icon.f3cbdd58dc25ca7cbb3d242106b56fb9.svg",F=a.p+"static/media/unknown-car.b997220748c92a3319b9.jpg",H=a(184),X=function(e){var s=e.data,a=e.handleModalToggle,n=s.id,r=s.make,c=s.model,t=s.year,l=s.type,o=s.rentalPrice,d=s.mileage,m=s.address,p=s.img,u=s.accessories,_=s.fuelConsumption,h=s.engineSize,x=s.description,f=s.functionalities,j=s.rentalConditions,N=p||F,v=m.split(","),g=j.split("\n").filter((function(e){return""!==e.trim()})),w=g[0].slice(0,-2),X=g[0].slice(-2);(0,i.useEffect)((function(){var e=function(e){"Escape"!==e.code||a()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]);return(0,H.jsx)(H.Fragment,{children:W.createPortal((0,H.jsx)("div",{className:k,onClick:function(e){e.target===e.currentTarget&&a()},children:(0,H.jsxs)("div",{className:b,children:[(0,H.jsx)("div",{className:L,children:(0,H.jsx)("img",{src:N,alt:c,className:C})}),(0,H.jsxs)("div",{children:[(0,H.jsxs)("p",{className:S,children:[r," ",(0,H.jsx)("span",{className:y,children:c}),","," ",t]}),(0,H.jsxs)("p",{className:R,children:[(0,H.jsx)("span",{className:I,children:v[1]}),(0,H.jsx)("span",{className:I,children:v[2]}),(0,H.jsxs)("span",{className:I,children:["id: ",n]}),(0,H.jsxs)("span",{className:I,children:["Year: ",t]}),(0,H.jsxs)("span",{className:I,children:["Type: ",l]}),(0,H.jsxs)("span",{className:I,children:["fuelConsumption: ",_]}),(0,H.jsxs)("span",{className:I,children:["engineSize: ",h]})]}),(0,H.jsx)("p",{className:Z,children:x}),(0,H.jsx)("p",{className:J,children:"Accessories and functionalities:"}),(0,H.jsxs)("p",{className:T,children:[(0,H.jsx)("span",{className:I,children:u[0]}),(0,H.jsx)("span",{className:I,children:u[1]}),(0,H.jsx)("span",{className:I,children:u[2]}),(0,H.jsx)("span",{className:I,children:f[0]}),(0,H.jsx)("span",{className:I,children:f[1]}),(0,H.jsx)("span",{className:I,children:f[2]})]})]}),(0,H.jsxs)("div",{className:E,children:[(0,H.jsx)("p",{className:O,children:"Rental Conditions: "}),(0,H.jsxs)("ul",{className:B,children:[(0,H.jsx)("li",{className:P,children:(0,H.jsxs)("p",{children:[w," ",(0,H.jsx)("span",{className:A,children:X})]})}),(0,H.jsx)("li",{className:P,children:(0,H.jsx)("p",{children:g[1]})}),(0,H.jsx)("li",{className:P,children:(0,H.jsx)("p",{children:g[2]})}),(0,H.jsx)("li",{className:P,children:(0,H.jsxs)("p",{children:["Mileage:"," ",(0,H.jsx)("span",{className:A,children:function(e){var s=e.toString();return s.slice(0,-3)+","+s.slice(-3)}(d)})]})}),(0,H.jsx)("li",{className:P,children:(0,H.jsxs)("p",{children:["Price: ",(0,H.jsx)("span",{className:A,children:o})]})})]})]}),(0,H.jsx)("a",{href:"tel:+380730000000",className:M,children:"Rental car"}),(0,H.jsx)("button",{onClick:a,className:z,children:(0,H.jsx)("img",{src:D,alt:"close-icon"})})]})}),document.body)})};var Y=a.p+"static/media/heart-icon.6b1933c5a9cf008bf066dea83693ec0e.svg";var q=a.p+"static/media/liked-icon.97847e9195943f61800c97807e735d4f.svg",Q=function(e){var s=e.data,a=e.onCarUnLiked,c=(0,i.useState)(!1),W=(0,r.Z)(c,2),k=W[0],b=W[1],L=(0,i.useState)(null),C=(0,r.Z)(L,2),S=C[0],y=C[1],R=(0,i.useState)(!1),I=(0,r.Z)(R,2),Z=I[0],J=I[1],T=(0,i.useState)([]),E=(0,r.Z)(T,2),O=E[0],B=E[1];if((0,i.useEffect)((function(){var e=(0,o.R)();B(e)}),[]),!s||0===s.length)return null;var P=function(){var e=(0,n.Z)(t().mark((function e(s){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(!0),k){e.next=15;break}return e.prev=2,e.next=5,(0,l.S)(s);case 5:(a=e.sent)?y(a):console.error("ERROR ! resp => ",a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error:",e.t0);case 12:return e.prev=12,J(!1),e.finish(12);case 15:b(!k),J(!1);case 17:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(s){return e.apply(this,arguments)}}(),M=function(e){a&&a(e),function(e){var s=JSON.parse(localStorage.getItem("componentId"))||[];if(s.includes(e)){var a=s.filter((function(s){return s!==e}));localStorage.setItem("componentId",JSON.stringify(a))}else s.push(e),localStorage.setItem("componentId",JSON.stringify(s))}(e);var s=(0,o.R)();B(s),console.log(s)};return(0,H.jsxs)("div",{className:m,children:[(0,H.jsx)("ul",{className:p,children:s.map((function(e){var s=e.id,a=e.make,n=e.model,r=e.year,c=e.type,t=e.rentalPrice,i=e.rentalCompany,l=e.address,o=e.img,d=e.accessories,m=o||F,p=l.split(","),W=O.includes(s);return(0,H.jsxs)("li",{className:u,children:[(0,H.jsx)("div",{className:_,children:(0,H.jsx)("img",{src:m,alt:n,className:h})}),(0,H.jsxs)("div",{className:f,children:[(0,H.jsxs)("p",{children:[a," ",(0,H.jsxs)("span",{className:w,children:[n,","]}),r]}),(0,H.jsx)("p",{children:t})]}),(0,H.jsx)("div",{className:j,children:(0,H.jsxs)("p",{className:N,children:[(0,H.jsx)("span",{className:v,children:p[1]}),(0,H.jsx)("span",{className:v,children:p[2]}),(0,H.jsx)("span",{className:v,children:i}),(0,H.jsx)("span",{className:v,children:s}),(0,H.jsx)("span",{className:v,children:c}),(0,H.jsx)("span",{className:v,children:d[0]})]})}),(0,H.jsx)("button",{className:x,onClick:function(){return P(s)},children:"Learn more"}),(0,H.jsx)("img",{src:W?q:Y,alt:"heart",className:g,onClick:function(){return M(s)}})]},s)}))}),k&&(0,H.jsx)(X,{data:S,handleModalToggle:P}),Z&&(0,H.jsx)(d.Z,{})]})}},43:function(e,s,a){a.d(s,{P:function(){return o},S:function(){return l}});var n=a(861),r=a(757),c=a.n(r),t=a(243),i=a(629),l=function(){var e=(0,n.Z)(c().mark((function e(s){var a,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://64fee767f8b9eeca9e294103.mockapi.io/api/adverts?id=".concat(s),e.prev=1,e.next=4,t.Z.get(a,{headers:{"content-type":"application/json"}});case 4:if(200!==(n=e.sent).status){e.next=9;break}return e.abrupt("return",n.data[0]);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),console.error("Error:",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(s){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(c().mark((function e(){var s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,i.R)(),e.prev=1,e.next=4,Promise.all(s.map(function(){var e=(0,n.Z)(c().mark((function e(s){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}()));case 4:return a=e.sent,console.log(a),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching liked cars:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},629:function(e,s,a){a.d(s,{R:function(){return n}});var n=function(){return JSON.parse(localStorage.getItem("componentId"))||[]}}}]);
//# sourceMappingURL=9.9ecaeb27.chunk.js.map